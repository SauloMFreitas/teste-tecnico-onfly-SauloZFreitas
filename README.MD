
# n8n-nodes-random

Este reposit√≥rio cont√©m um **n√≥ customizado Random** para [n8n](https://n8n.io).
O n√≥ consome a API p√∫blica do [random.org](https://www.random.org/integers/) para gerar n√∫meros inteiros aleat√≥rios entre valores `Min` e `Max`.

---

## üöÄ Instala√ß√£o de depend√™ncias

```bash
git clone https://github.com/SauloMFreitas/Desafio-Onfly.git
cd n8n-nodes-random
npm install
npm run build
mkdir -p custom
cp -r dist/* custom/
```

---

## üê≥ Executar localmente com Docker

O reposit√≥rio cont√©m um `docker-compose.yml` configurado com:

* **db** ‚Üí PostgreSQL 16
* **n8n** ‚Üí n8n vers√£o 1.85.4

Subir os servi√ßos:

```bash
docker compose up -d
```

Verificar se est√£o rodando:

```bash
docker compose ps
```

Parar os servi√ßos:

```bash
docker compose down
```

---

## ‚öôÔ∏è Configura√ß√£o de ambiente

As vari√°veis de ambiente j√° est√£o declaradas no `docker-compose.yml`. Principais:

* Banco de dados:

  * `POSTGRES_USER=n8n`
  * `POSTGRES_PASSWORD=n8n`
  * `POSTGRES_DB=n8n`

* n8n:

  * `DB_TYPE=postgresdb`
  * `DB_POSTGRESDB_HOST=db`
  * `DB_POSTGRESDB_PORT=5432`
  * `DB_POSTGRESDB_DATABASE=n8n`
  * `DB_POSTGRESDB_USER=n8n`
  * `DB_POSTGRESDB_PASSWORD=n8n`
  * `N8N_CUSTOM_EXTENSIONS=/home/node/.n8n/custom`
  * `TZ=America/Sao_Paulo`

---

## üß™ Executar os testes

1. Acesse o editor do n8n em: [http://localhost:5678](http://localhost:5678)
2. Crie um novo **Workflow**
3. Adicione um n√≥ **Manual Trigger**
4. Adicione o n√≥ **Random**
5. Configure os par√¢metros:

   * `Min = 1`
   * `Max = 60`
6. Execute o workflow. A sa√≠da ser√° um n√∫mero aleat√≥rio em JSON:

```json
{ "value": 42 }
```

---

## ‚ÑπÔ∏è Informa√ß√µes adicionais

* O n√≥ est√° implementado em `nodes/Random/Random.node.ts`.
* O √≠cone est√° em `nodes/Random/random.svg`.
* Para recompilar ap√≥s altera√ß√µes:

```bash
npm run build
cp -r dist/* custom/
docker compose restart n8n
```

* Logs √∫teis:

```bash
docker compose logs n8n --tail=50
docker compose logs db --tail=50
```

---

## üìö Refer√™ncias

* [n8n ‚Äì Criar n√≥s customizados](https://docs.n8n.io/integrations/creating-nodes/create-node.html)
* [random.org ‚Äì API Integers](https://www.random.org/integers/)
* [Imagem oficial n8n (Docker Hub)](https://hub.docker.com/r/n8nio/n8n)
* [Imagem oficial Postgres (Docker Hub)](https://hub.docker.com/_/postgres)

---
